

## ðŸŽ‰ SHOPPING API INTEGRATION - IN PROGRESS

### âœ… Phase 1: Deep Links - COMPLETED (Dec 30, 2024)
- QuickOrderButtons component with 6 platforms (Instacart, Amazon Fresh, Walmart, Target, Kroger, Whole Foods)
- Fixed deep link URLs for all platforms
- Integrated into shopping list detail page
- Documentation complete

### ðŸ”„ Phase 2: Pepesto API Integration - APPROVED & IN PROGRESS (Jan 7, 2025)
**Status:** Pepesto approved! Waiting for API key

**Contact:** Angel from Pepesto (orders@pepesto.com)
**Response Date:** January 7, 2025

**Pepesto Approval Details:**
âœ… Test/sandbox environment available - will issue temporary API key with pre-loaded credits
âœ… Quick onboarding timeline (hours/minutes for most endpoints, except /checkout)
âœ… Volume discounts available (case-by-case basis)
âœ… Technical support provided during integration
âœ… Open to design partnerships - scheduling call next week

**Next Steps:**
1. [ ] Request test API key from Angel
2. [ ] Schedule call with Angel to discuss:
   - Integration timeline and phases
   - Design partnership opportunities (e.g., meal planning + shopping automation)
   - Volume discount structure for scaled usage
   - Best practices for /checkout automation
3. [ ] Provide timezone for scheduling call
4. [ ] Start Phase 2A: Basic Integration (parse + products endpoints)
5. [ ] Implement Phase 2B: Session creation and cart management
6. [ ] Explore Phase 2C: /checkout automation (complex - requires WebView)

**Instacart Status:** Applied - waiting for response

---

## OTHER FEATURES & IMPROVEMENTS

**-for shopping list, make it inceremental, if users selects 1 plan now, then came back and selected another plan or recipe, so to have a total shopping cart to be sent to the shopping api.

**-can we add a feature to select the country for the user so the recipes can as much closer to the common ingredients we can find in that specifc country?


-  integrate shopping api

-password change implementation depends on smpt, the feature hasnt been tested yet, check files: docs/PASSWORD_QUICK_START.md and docs/PASSWORD_RESET_FEATURE.md

-  Update available 5.22.0 -> 7.2.0                       â”‚
â”‚                                                         â”‚
â”‚  This is a major update - please follow the guide at    â”‚
â”‚  https://pris.ly/d/major-version-upgrade                â”‚
â”‚                                                         â”‚
â”‚  Run the following to update                            â”‚
â”‚    npm i --save-dev prisma@latest                       â”‚
â”‚    npm i @prisma/client@latest 

- email smpt provider setting for password and notifications.


 
Plan for nextjs 15 Later:

Next.js 15 Mig

-  integrate shopping api

-password change implementation depends on smpt, the feature hasnt been tested yet, check files: docs/PASSWORD_QUICK_START.md and docs/PASSWORD_RESET_FEATURE.md

-  Update available 5.22.0 -> 7.2.0                       â”‚
â”‚                                                         â”‚
â”‚  This is a major update - please follow the guide at    â”‚
â”‚  https://pris.ly/d/major-version-upgrade                â”‚
â”‚                                                         â”‚
â”‚  Run the following to update                            â”‚
â”‚    npm i --save-dev prisma@latest                       â”‚
â”‚    npm i @prisma/client@latest 

- email smpt provider setting for password and notifications.

ration Scope
âœ… API routes: Already compatible (using await)
âŒ 20+ page files need refactoring (params/searchParams)
âŒ React 18 â†’ 19 upgrade required
âŒ next-auth React 19 compatibility unclear
âš ï¸ Estimated effort: 4-8 hours of work + testing
The Safe Path

Next.js 15: Plan for Q2 2025
When you're ready:

Allocate 1-2 days g)/about/page.tsx - Comprehensive about page with mission, 5 defense systems, features, and vision
  - /app/(marketing)/faq/page.tsx - Detailed FAQ with 8 categories (General, Accounts & Plans, Meal Plans & Recipes, Progress & Tracking, AI Features, Community, Technical, Billing)
  - /app/(marketinfor migration
Run the codemod: npx @next/codemod@canary upgrade latest
Manually fix the 20+ files with params/searchParams
Update React to 19
Thorough testing across all features



-  integrate shopping api

-password change implementation depends on smpt, the feature hasnt been tested yet, check files: docs/PASSWORD_QUICK_START.md and docs/PASSWORD_RESET_FEATURE.md

-  Update available 5.22.0 -> 7.2.0                       â”‚
â”‚                                                         â”‚
â”‚  This is a major update - please follow the guide at    â”‚
â”‚  https://pris.ly/d/major-version-upgrade                â”‚
â”‚                                                         â”‚
â”‚  Run the following to update                            â”‚
â”‚    npm i --save-dev prisma@latest                       â”‚
â”‚    npm i @prisma/client@latest 

- email smpt provider setting for password and notifications.

for admin dashboard:
recipe genetaing Success Rate Tracking: Track how often validation passes
Admin Dashboard: See ai recipe/meal plan, shopping list generating validation failure patterns

- the front page, should be the progress, and from there depending on what you lack then you ask the Ai to generate a new meal. recipe, or plan. or create a recommendations.
the tracking charts and stats should be redesigned: to have an overall score, then a chart for the 5 defence system coverage, the 5 foods for each system, and the 5 times the calculation should reflect that in away, also the date selection shoud be daily, weekly, and monthly, and smart recommendation or each view.

- the whole tracking page to be redesigned to shows a recommendations based on the actual progress,
 for example: when you click on the home page, the header should be reminder for user why this is important.
then the tracker, should have a recommendation to create a recipe or plan based on the status,  the whole flow should be as a sequesnce of actions. create recipe/plan> create shopping list> purchase> log to track... with notifciations sent if any step hasnt been completed.
- based on the status, the smart recommendation system will take in consideration the user history, current status and recommend to create meal plan or a recipe, the date shoud be send to the geneartor if the user agree, link the home page with the meal plan generator and the recipe generators.

- rearrange the nav bar, meal plannin rename it to more friendly one, move it before the recipes.
- meal plan, make the options for each step drop down list, with a default selected option for each.
- have the dietry preference as part of the user preferences, and to be a default for their meal plan and recipe generators


Issues:

in the progress page welcome state there is a card for Get Started in 3 Easy Steps
1
Log Your First Meal
Click "Add Food" on any meal time below to start tracking what you eat. We'll automatically categorize foods by their health benefits.

Log Your First Meal

the Log your First Meal shows the following only:

Log Food

Logging for
ðŸŒ…
Breakfast
Click foods below to add to this meal
Foods
Search for a food...
Notes (Optional)

so only breakfast shows, and also the search doesnt work.


- in wellness preferences, there are Save Preferences and Save Changes buttons

Dietary Restrictions (optional)
vegetarian
vegan
gluten-free
dairy-free
nut-free
low-carb

while in Wellness Preferences in settings there are way more Dietary Restrictions 


- the ingredients in the ai generated recipe shows like that:

Ingredients
g
sweet potato, peeled and cubed
g
shiitake mushrooms, sliced
g
cremini mushrooms, quartered
g
oyster mushrooms, torn into pieces
g
kale, stems removed and chopped
g
Brussels sprouts, halved
piece
red bell peppers, diced
piece
medium onion, diced
clove
garlic, minced
g
fresh ginger, grated
g
fresh turmeric root, grated (or 5 g ground turmeric)
ml
olive oil
liter
vegetable broth
ml
coconut milk
ml
white miso paste
ml
lemon juice
g
cherry tomatoes, halved
piece
scallions, sliced
g
cumin seeds
g
black pepper
g
sea salt
g
red pepper flakes
ml
sesame oil

npm audit error to fix:
174 packages are looking for funding
  run `npm fund` for details

3 vulnerabilities (2 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.

also for db:
Update available 5.22.0 -> 7.2.0                       â”‚
â”‚                                                         â”‚
â”‚  This is a major update - please follow the guide at    â”‚
â”‚  https://pris.ly/d/major-version-upgrade                â”‚
â”‚                                                         â”‚
â”‚  Run the following to update                            â”‚
â”‚    npm i --save-dev prisma@latest                       â”‚
â”‚    npm i @prisma/client@latest    


- when user click on start cooking or generate recipe from the recommendation, I need to give them the option to select multiple systems, beside the ones preselected.
-so i did the following, John Davis user, had the welcome state page so no metrics, i created a Lunch recipe for DNA protection system, with 18 foods, and i logged the recipe so in the progress page the 18 foods showed under DNA protection, now i went to the Daily Meal Timeline section and i selected the Breakfast meal and added 3 more foods: Blackberries, Walnuts, Green Tea, these 3 foods are serving multiple systems so they should be tracked as such among all the graphs and progress page cards and features, now the issue  is that:
- the progress page should refresh automatically to show the data after logging the foods.
- in section: Your 5x5x5 Score the logged foods are not reflected here.:
32
Your 5x5x5 Score
Let's Improve

View full score for detailed insights

1/5

Systems

1/4

Meals

18

Foods



- in the Recommendation section: the Angiogensis is still considered critical even though it has 3 food logged, and there are Microbiom system with 1 food logged only, and immunity system with 2 food logged only.
- in the Defense systems Progress the new logged food are not counted here,even though in System Details section i can see the number of foods are reflecting the new logged foods.the graph in this section doesnt reflect them. the highlighted data are not accurate: total Foods should be replaced with Missing food (calculate how many foods in total are missing to have 100% completion). the Complete metric is good, but check why it doesnt take into consideration the new logged food and fix that, the Average metric is useless, remove it or replace with another one more usefull for the users.
- i still do not understand the  Food Suggestions section, what it doesn, and based on what data or metric it suggests the foods, and what


the recommendations are sometimes repetitives and redundant, like in the main recommendation card i can see Add ANGIOGENESIS to Your Diet
CRITICAL You haven't logged any angiogenesis foods yet. These are crucial for your wellness. 
and in the Your Action Items:
Add ANGIOGENESIS to Your Diet
You haven't logged any angiogenesis foods yet. These are crucial for your wellness.

ANGIOGENESIS
----------